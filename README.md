# Forest-SLAM
This repository contains the software archive for my final year project undertaken during my MEng Electronic and Information Engineering degree at Imperial College London during the 2023-24 academic year.  
My master's thesis is titled 'Enhancing Visual SLAM for Autonomous Forest Navigation through Robust Feature Correspondence'

## Installation
Clone this repo recursively to get the required submodules:  
```git clone --recurse-submodules https://github.com/si220/Forest-SLAM.git```

A [Dockerfile](Forest-SLAM/Dockerfile) is provided which is based on the one from [here](https://github.com/jahaniam/orbslam3_docker) and contains all of the required packages.  
A [Makefile](Forest-SLAM/Makefile) is also provided to build, run and stop the Docker container and is targeted at WSL2 users on Windows.  
Linux users can run the Docker commands natively or modify the Makefile based on their system requirements.

To build the container run ```make build```

To run the container run ```make run```

To create a new terminal run ```make exec```

To stop the container run ```make stop```

## Folder Structure
The source code can be found in [ros_ws/src/](/home/si220/source/repos/Forest-SLAM/ros_ws/src)  
[gt_localisation.py](Forest-SLAM/ros_ws/src/gt_localisation.py) and [gt_mapping.py](Forest-SLAM/ros_ws/src/gt_mapping.py) contains the code for the ground truth localisation and mapping respectively.  
[mono_slam.py](Forest-SLAM/ros_ws/src/mono_slam.py) contains the code for the monocular Forest SLAM implementation.  
[stereo_slam.py](Forest-SLAM/ros_ws/src/stereo_slam.py) contains the code for the stereo Forest SLAM implementation.  
[pose_estimation_results](/home/si220/source/repos/Forest-SLAM/ros_ws/src/pose_estimation_results) contains the estimated and ground truth trajectories for all methods tested.  
[mapping_results](/home/si220/source/repos/Forest-SLAM/ros_ws/src/mapping_results) contains the SLAM maps generated by the stereo method.  
[forest_slam_ros](/home/si220/source/repos/Forest-SLAM/ros_ws/src/forest_slam_ros) is a ROS package we created which contains launch files for both monocular and stereo Forest SLAM implementations.

## Usage
Users can either manually run the individual files or use the ROS package directly.  

Here is an example of how to manually run a specific file:  
1) Open three terminals using `make exec`
2) In the first terminal run `roscore`
3) In the second terminal run `rviz`
4) In the third terminal run `python3 stereo_slam.py`

In RViz add the `slam_map` and `est_trajectory` topics to view the 3D point cloud map and trajectory respectively.  

Here is an example of how to run the ROS package:  
1) Open a new terminal using `make run`
2) Launch the ROS package using `roslaunch forest_slam_ros forest_slam_stereo.launch`

This will open RViz automatically with the correct topics to visualise the localisation and mapping.
